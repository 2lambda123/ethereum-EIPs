---
eip: 1717
title: Final Difficulty Bomb Delay and Block Reward Adjustment
author: Afri Schoedon (@5chdn)
type: Standards Track
category: Core
status: Draft
discussions-to: https://ethereum-magicians.org/t/eip1717-permanently-diffusing-the-difficulty-bomb/2496
created: 2019-01-21
---

## Simple Summary
The average block times are increasing due to the difficulty bomb (also known as the "_ice age_") slowly accelerating. This EIP proposes to delay the difficulty bomb for approximately 640 times the age of the universe and to reduce the block rewards with the Istanbul fork, the third part of the Metropolis phase.

## Abstract
Starting with `ISTANBUL_FORK_BLKNUM` the client will calculate the difficulty based on a fake block number suggesting the client that the difficulty bomb is adjusting around `0xffffffffffffffff` blocks later than previously specified with the Constantinople fork. Furthermore, block rewards will be adjusted to a base of 1 ETH, uncle and nephew rewards will be adjusted accordingly.

## Motivation
The Serenity and beacon-chain development is cumulating to a point that a transition is to be expected by 2020. However, the legacy proof-of-work network will be running for an undefined time to allow users depositing ETH for the proof-of-stake chain. Therefore, proof-of-work sealing should be feasible for miners to allow minting new blocks every 15 seconds on average for another 640 lifetimes of the universe. With the delay of the ice age, there is a desire to not suddenly also increase miner rewards. The difficulty bomb has been known about for a long time and now it's going to stop from happening. In order to maintain stability of the system, a block reward reduction that offsets the ice age delay would leave the system in the same general state as before.

## Specification
#### Relax Difficulty with Fake Block Number
For the purposes of `calc_difficulty`, simply replace the use of `block.number`, as used in the exponential ice age component, with the formula:

    fake_block_number = 0xffffffffffffffff if block.number >= ISTANBUL_FORK_BLKNUM else block.number

#### Adjust Block, Uncle, and Nephew rewards
To ensure a Istanbul Ether issuance, adjust the block reward to `new_block_reward`, where

    new_block_reward = 1_000_000_000_000_000_000 if block.number >= ISTANBUL_FORK_BLKNUM else block.reward

(1E18 wei, or 1,000,000,000,000,000,000 wei, or 1 ETH).

Analogue, if an uncle is included in a block for `block.number >= ISTANBUL_FORK_BLKNUM` such that `block.number - uncle.number = k`, the uncle reward is

    new_uncle_reward = (8 - k) * new_block_reward / 8

This is the existing pre-Istanbul formula for uncle rewards, simply adjusted with `new_block_reward`.

The nephew reward for `block.number >= ISTANBUL_FORK_BLKNUM` is

    new_nephew_reward = new_block_reward / 32

This is the existing pre-Istanbul formula for nephew rewards, simply adjusted with `new_block_reward`.

## Rationale
This will delay the ice age by over 9000, so the chain would never be back at 30 second block times as seen in summer 2017. This effectively disables the difficulty bomb for an eternity.

## Backwards Compatibility
This EIP is not forward compatible and introduces backwards incompatibilities in the difficulty calculation, as well as the block, uncle and nephew reward structure. Therefore, it should be included in a scheduled hardfork at a certain block number. It's suggested to include this EIP in the third Metropolis hard-fork, Istanbul.

## Test Cases
Test cases shall be created once the specification is to be accepted by the developers or implemented by the clients.

## Implementation
The implementation in it's logic does not differ from [EIP-649](https://github.com/ethereum/EIPs/blob/master/EIPS/eip-649.md) and [EIP-1234](https://github.com/ethereum/EIPs/blob/master/EIPS/eip-1234.md); an implementation for Parity-Ethereum is available in [parity-ethereum#9187](https://github.com/paritytech/parity-ethereum/pull/9187).

## Copyright
Copyright and related rights waived via [CC0](https://creativecommons.org/publicdomain/zero/1.0/).

---
eip: 5252
title: Account-bound Finance
description: An EIP-5114 extension that aids in preventing loss of funds
author: Hyungsuk Kang (@hskang9)
discussions-to: https://ethereum-magicians.org/t/pr-5252-discussion-account-bound-finance/10027
status: Draft
type: Standards Track
category: ERC
created: 2022-06-29
requires: 721, 1155, 5114
---

## Abstract
This EIP proposes a form of smart contract design pattern and a new type of account abstraction on how one's finance should be managed in web3.0, ensuring transparency of managing investments and protection with self-sovereignty even from its financial operators.

This EIP extends [EIP-5114](./eip-5114.md), but the difference is that it can be transferred to other accounts for mobility between managing multiple wallets.

## Motivation

Finance in the crypto ecosystem is facing a huge trust issue. Smart contracts are often proxies, with the actual logic of the contract hidden away in a separate logic contract. Many projects include a multi-signature "wallet" with unnecessarily-powerful permissions. And it is not possible to independently verify that stablecoins have enough real-world assets to continue maintaining their peg, creating a large loss of funds (such as happened in the official bankruptcy announcement of Celsius and UST de-pegging and anchor protocol failure). One should not trust exchanges or other third parties with one's own investments.

The pattern empowers more self-sovereignty and gives more credentials(obviously with an Account-bound token) than locking financial data in the operating team's contract.

Segregation between investor's fund and operation fee is clearly specified in the smart contract, so investors can ensure safety from arbitrary loss of funds by the operating team's control.

## Offchain-identity vs Soul-bound token on credentials 

This EIP opposes the offchain-identity solution to take over the whole system, because their backend eventually relies on the trust of the operator, not the cryptographic proof of storing data(e.g. Proof-of-work, Proof-of-stake, etc). Offchain identity as credentials denies the whole premise of crypto's existence. Hence, Soul-bound token is the verifiable credential to stay, and offchain integration is just enough to show images.

## Specification

The pattern consists of 5 components, manager, factory, finance, account-bound token, and extension.

### Contracts

<figure>
<img src="../assets/eip-5252/media/media.svg" alt="Diagram" style="width:100%">
<figcaption align = "center"><b>Fig 1 - Contract Diagram of EIP-5252</b></figcaption>
</figure>


**`Manager`**: **`Manager`** contract acts as an entry point to interact with the investor. The contract also stores parameters for **`Finance`** contract.

**`Factory`**: **`Factory`** contract manages contract bytecode to create for managing investor's fund and clones **`Finance`** contract on **`Manager`** contract's approval. It also mints account-bound tokens to interact with the `Finance` contract.

**`Finance`**: **`Finance`** contract specifies all rules on managing an investor's fund. The contract is only accessible with an account that has an Account-bound token. When an investor deposits a fund to **`Manager`** contract, the contract sends the fund to **`Finance`** contract account after separating fees for operation. 

**`Account-bound token`**: **`Account-bound token`** contract in this EIP can bring the **`Finance`** contract's data and add metadata. For example, if there is a money market lending 
**`Finance`** contract, its **`Account-bound token`** can show how much balance is in agreement using SVG.

**`Extension`**: **`Extension`** contract is another contract that can utilize locked funds in **`Finance`** contract. The contract can access with **`Finance`** contract on operator's approval managed in **`Manager`** contract. Example use case of `Extension` can be a membership.

**`Metadata`**: **`Metadata`** contract is the contract where it stores metadata related to account credentials. Credential related data are stored with specific key. Images are usually displayed as SVG, but offchain image is possible. 

---

### Governance


#### From Token Governance To Contribution Based Governance

|               | Token Governance                 | Credential-based Governance                      |
|---------------|----------------------------------|--------------------------------------------------|
| Enforcement   | More tokens, more power          | More contribution, More power                    |
| Incentives    | More tokens, more incentives     | More contribution, more incentives           |
| Penalty       | No penalty                       | Loss of power                  |
| Assignment | One who holds the token | One who has the most influence |
<figcaption align = "center"><b>Token Governance vs Credential Based Governance</b></figcaption>


Token governance is not sustainable in that it gives **more** power to "those who most want to rule". Any individual who gets more than 51% of token supply can change the rules to their favor.

For example, Terraform Labs kept approximately 70% of their tokens or they printed more if the founder wanted to. They could manipulate voting turnout and decisions. 

New governance that considers contributions to the protocol is needed because:

- **Rulers can be penalized on breaking the protocol**
- **Rulers can be more effectively incentivized on maintaining the protocol**

The power should be given to "those who are most responsible". Those contributions are marked in `Account Bound Token`(ABT) as below. 


<How token is locked to the abt>

#### Stakers vs Enforcers

|              | Stakers               | Enforcers                                                                               |
|--------------|-----------------------|-----------------------------------------------------------------------------------------|
| Role         | Just stake for profit | Contributed on the system, can make proposal to change rule, more voting power like 1.5 |
| Populations  | many                  | small                                                                                   |
| Contribution | Less effect           | More effect                                                                             |
| Dividend     | locked token          | locked token *ε(contribution value)                                                     |
| Voting       | sqrt(locked token)    | sqrt(locked token)                                                                      |
| Influence    | vote                  | vote * γ(contribution value)                                                            |
<figcaption align = "center"><b>Fig 1 - Stakers vs Enforcers</b></figcaption>


**Stakers**:  Stakers are people who vote to enforcers' proposals and get dividend for staked tokens

**Enforcers**: Enforcers are people who takes risk on managing protocol and contributes to the protocol by making a proposal and change to it.

#### Contracts


**`Influencer`**: **`Influencer`** contract locks tokens and measures the contribution of a user from his activities done in registered **`Account Bound Token(ABT)`** contract.

**`Governor`**: **`Governor`** contract stores factor where influencer manages and has access on changing parameter of **`Manager`** configs. Only `Enforcer` can propose new parameters.

#### Case study

- Ferrari does not sell cars, they sell membership
    - They put car as entry to join membership(e.g. buying one new Ferrari or two used Ferrari to join)
    - Membership benefits and penalties
    - Benefits
        - Exclusive access on upcoming cars(e.g. Enzo Ferrari)
        - Membership events
    - Penalties
        - Permanent ban on purchase 
        - Blacklist
        - Losing privilege

- Bored Ape Yacht Club(BAYC)
    - Somehow similar to Ferrari on membership, but all about giving *more* power to "those who most want to rule".
    - Benefit 
        - the status(e.g. women buying birkin bags)
        - Membership events
    - No related penalties on maintenance

#### Conclusion

- Projects based on this pattern should not sell ponzis, they should sell membership
    - Vs. Web 2.0
        - Apply penalty on violating `Finance` contract onchain (e.g. liquidation on loan contract)
        - Connect onchain incentives for those who has soul-bound token(SBT) (e.g. `Extension` contract)
        - Identification with ENS for consistency(check ENS input != 0x0 before interacting with `Manager` or membership granting logic)
    - Benefit
        - Status
        - Membership events
        - Exclusive access on upcoming products
    - Penalties
        - Blacklist
        - Losing governance rights 
        - Permanant ban on the identifier

 

## Backwards Compatibility
This EIP has no known backward compatibility issues.

## Reference Implementation

[Reference implementation](../assets/eip-5252) is a simple deposit account that can grant access in other defi contracts.

## Copyright
Copyright and related rights waived via [CC0](../LICENSE.md).

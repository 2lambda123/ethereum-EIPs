---
eip: 5247
title: Smart Proposal
description: An interface of "proposals" that is submitted to, recorded on and possibly executed and enforced onchain.
author: Zainan Victor Zhou (@xinbenlv)
discussions-to: https://ethereum-magicians.org/t/erc-5247-executable-proposal-standard/9938
status: Draft
type: Standards Track
category: ERC
created: 2022-07-13
requires: 7
---

## Abstract
We present an interface for smart proposals an interface of "proposals" that is submitted to, recorded on and possibly executed and enforced onchain.
When a smart proposal is on-chain executable, they contains information of smart-contract calls including addresses, ether values, calldatas and other metadata information.

## Motivation
Increasingly in use-cases we found it useful and sometimes necessary of seperating the "what is to be executed" with "now execute it".

A typical use case is in a Decentralized Autonomous Organization, aka DAO, a proposer will start a smart proposal, advocate it, let people endorse and vote (E.g. as [ERC-1202  Voting Standard](./eip-1202.md)) for it, and later when conesensus amongst community members are formed, the execution comes.

A second typical use-case is that a person could have someone who they trust, such as a delegator, trustee, or an attorney-in-fact, or any bilateral collaboration format, where a smart proposal will be first composed, discussed, approved in some way, and then put into execution.

A third typical use-case is that a person could make an "offer" to a second person, with or without strings attached. The smart proposal can be presented as a offer and the second person can execute it when they accept this proposal.

## Specification
The key words “MUST”, “MUST NOT”, “REQUIRED”, “SHALL”, “SHALL NOT”, “SHOULD”, “SHOULD NOT”, “RECOMMENDED”, “MAY”, and “OPTIONAL” in this document are to be interpreted as described in RFC 2119.

```solidity

interface IERC_NUMBER_TO_BE_ASSIGNED_Proposal {
    event ProposalCreated(
        uint256 proposalId,
        string proposalUri,
        uint8[] optionIds,
        address proposer,
        address[][] targets,
        uint256[][] values,
        string[][] signatures,
        bytes[][] calldatas,
        uint256 startBlock,
        uint256 endBlock
    );
    event ProposalExecuted(uint256 proposalId);
    // TODO: add Proposal Cancel/Edit/Withdraw Event and Functions?

    // TODO: decide whether we require generating ProposalId in the method or not?
    // TODO: if require generating ProposalId internally, can it be incremental hash-generated?
    // TODO: what if proposal need to demonstrate sufficient support? How to input quorum?
    function createProposal(
        uint256 proposalId,
        string calldata proposalUri,
        uint8[] calldata optionIds,
        address[] calldata targets,
        uint256[] calldata values,
        bytes[] calldata calldatas,
        uint256 startblock,
        uint256 endblock,
        bytes calldata extraParams
    ) external returns (uint256 registeredProposalId);

    // TODO: what's most proper way to update the voting period?
    // TODO: do we want to include cancel or withdraw?
    // TODO: what's the best way to include weight scheme?
}
```

## Rationale

1. Originally the interface of Smart Proposal is part of [ERC-1202  Voting Standard](./eip-1202.md). We came to realize the proposal itself can potentially have many use cases not limited to voting. It also turns out to us it's possible that voting may not need to be upon a proposal in any partiuclar format. Hence, we decide to *decouple the voting interface and proposal interface*.

1. We choose *array* for targets, values, calldatas instead of individual one, allowing a proposal to carry arbitrarily long multiple functional calls.

2. We choose to return `registeredProposalId` in createProposal so the standard can support implementation to decide their format of proposal id.


## Security Considerations
Needs discussion.

## Copyright
Copyright and related rights waived via [CC0](../LICENSE.md).

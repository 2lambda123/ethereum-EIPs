---
eip: 3561
title: Trust Minimized Upgradeability Proxy
author: <@SamPorter1984>
discussions-to: https://ethereum-magicians.org/t/trust-minimized-proxy/5742
status: Draft
type: Standards Track
category: ERC
created: 2021-05-09
---

## Simple Summary
Additional storage proxy slots to remove trust from upgradeability proxy.

## Abstract
Removing trust from upgradeability proxy is required for anonymous developers. To achieve that, disallowing sudden, potentially malicious upgrades is required. Introduce a time lock, a period of one month, before defined by proxy admin implementation becomes active implementation.

## Motivation
It's usually not possible for anonymous developers who use upgradeability proxies to gain community trust.

Fairer, better future for humanity absolutely requires some developers to stay anonymous while still attract vital attention to solutions they propose and at the same time leverage the benefits of possible upgradeability. For example, project like cap.finance allows to trade stocks and securities on the blockchain in a purely decentralized way making the developers of such projects potentially risking their freedom. Aletheo was born to fight advancing day by day surveillance and tools of control in Russia and China, so as I am Russian, you can count me as dead(I have to state this just in case). While Aletheo would certainly function on trust to anonymous developer or with non-upgradeable contracts, without having enough Founders, Aletheo more likely to be compromised sooner or later, therefore a solution like trust minimized proxy is required for a project like this.

## Specification

### Logic contract address

`NEXT_IMPLEMENTATION_SLOT` stores the address of next logic to be implemented.

### Upgrade Block

`UPGRADE_BLOCK_SLOT` stores the block after/on which address stored in `NEXT_IMPLEMENTATION_SLOT` is being set to active `IMPLEMENTATION_SLOT`.

### Propose Block

`PROPOSE_BLOCK_SLOT` defines after/on which block proposing next logic is possible. Required for convenience, for example set to a year from given time, so that investors can have peace of mind during the year. Can be set to maximum number to completely seal the code.

### Deadline Block
`DEADLINE_BLOCK_SLOT` is a block after which it becomes impossible to upgrade the contract. Required in case of probability that the project development can be compromised, unlike `PROPOSE_BLOCK_SLOT`, deadline is set once(in constructor or with a boolean in an additional slot) and can't be changed, i.e. does not require any transaction like `PROPOSE_BLOCK_SLOT`.

### Trustless Boolean
`TRUSTLESS_SLOT` is a boolean that is false by default and can only ever be set true. While setting up the contracts and implementations for the first time, it can be an important option to counter human error.

## Rationale

If we leave room for human error, it might not be possible to disallow anonymous scammers exploiting it. Therefore a time delay before an actual upgrade(change of current implementation address) goes live is probably unavoidable, even if it means that inexperienced developers might not have confidence using it. Albeit this is a downside of this EIP, it's a critically important option to have in smart contract development today.

Propose block adds to convenience if used, so should be kept. Deadline block, while can be omitted, can be critically important for some projects, it would be reasonable to rather keep it as a functional variable. Unless developers always write correct migrations from for example Truffle or Hard Hat, trustless boolean is required from my own experience, because I once failed 15 steps of contracts deployment for the project.


## Implementation
The following implementation is an example which lacks trustless boolean slot: [Aletheo repository](https://github.com/SamPorter1984/Aletheo/blob/e52a19fd4f012a3ec2edadf112c9fc6b5ff843e0/contracts/TrustMinimizedProxy.sol).

## Copyright
Copyright and related rights waived via [CC0](https://creativecommons.org/publicdomain/zero/1.0/).

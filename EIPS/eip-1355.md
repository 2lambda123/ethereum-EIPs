---
eip: 1355
title: Ethash 1a
author: Pawe≈Ç Bylica <pawel@ethereum.org>
discussions-to: TBA
status: Draft
type: Standards Track
category: Core
created: 2018-08-26
---

## Motivation

Provide minimal set of changes to Ethash algorithm to ...

## Specification

1. Define hash function `fnv1a()` as
   ```python
   def fnv1a(v1, v2):
       return ((v1 ^ v2) * FNV1A_PRIME) % 2**32
   ```
   where `FNV1A_PRIME` is 16777499 or 16777639.
2. Change the hash function that determines the DAG item index in Ethash algorithm from `fnv() to new `fnv1a()`.
   In [Main Loop](https://github.com/ethereum/wiki/wiki/Ethash#main-loop) change
   ```python
   p = fnv(i ^ s[0], mix[i % w]) % (n // mixhashes) * mixhashes
   ```
   to
   ```python
   p = fnv1a(i ^ s[0], mix[i % w]) % (n // mixhashes) * mixhashes
   ```

## Rationale

### FNV Primes

The 16777639 satisfies all requirements from [Wikipedia](https://en.wikipedia.org/wiki/Fowler%E2%80%93Noll%E2%80%93Vo_hash_function#FNV_prime).

The 16777499 is preferred by FNV authors but not used in the reference FNV implementation because of historical reasons.
See [A few remarks on FNV primes](http://www.isthe.com/chongo/tech/comp/fnv/index.html#fnv-prime).

## Copyright

This work is licensed under a [Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International License](https://creativecommons.org/licenses/by-nc-sa/4.0/).
